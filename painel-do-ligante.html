<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#146677">
  <title>Ligantes da UNISUL</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="estilos/ligantes.css">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="assets/logo-labem.png">
  
</head>
<body>



  <nav class="navbar">
    <div class="nav-brand">
      <img src="assets/logo-labem.png" alt="Logo Ligantes" class="logo">
      <span>Ligantes de Biomedicina</span>
      <a href="painel-administrativo.html" class="admin-icon" title="Painel Administrativo">
        <i class="fas fa-cog"></i> 
      </a>
    </div>
  </nav>

  <!-- Conte√∫do Principal -->
  <main class="container">
    <header class="hero">
      <h1 class="hero-title">Bem-vindos Ligantes! <span class="highlight">üéì</span></h1>
      <p class="hero-subtitle">Sua plataforma de apoio e materiais!</p>
    </header>

    <!-- Cards de Encontros -->
    <section class="encontros-grid">
      <div class="encontro-card">
        <div class="card-header">
          <h2>Encontro 1</h2>
          <i class="fas fa-book-open"></i>
        </div>
        <div class="card-content">
          <a href="#" class="download-btn">
            <i class="fas fa-file-pdf"></i>
            Slides Te√≥ricos
            <span class="file-size">PDF - 2.4MB</span>
          </a>
          <a href="#" class="download-btn">
            <i class="fas fa-file-alt"></i>
            Material Pr√°tico
            <span class="file-size">PDF - 1.1MB</span>
          </a>
        </div>
        <div class="card-footer">
          <span class="progress-text">Dispon√≠vel desde: 01/08</span>
          <div class="progress-bar">
            <div class="progress" style="width: 25%"></div>
          </div>
        </div>
      </div>
    </section>
    <section class="encontros-grid">
        <div class="encontro-card">
          <div class="card-header">
            <h2>Encontro 2</h2>
            <i class="fas fa-book-open"></i>
          </div>
          <div class="card-content">
            <a href="#" class="download-btn">
              <i class="fas fa-file-pdf"></i>
              Slides Te√≥ricos
              <span class="file-size">PDF - 2.4MB</span>
            </a>
            <a href="#" class="download-btn">
              <i class="fas fa-file-alt"></i>
              Material Pr√°tico
              <span class="file-size">PDF - 1.1MB</span>
            </a>
          </div>
          <div class="card-footer">
            <span class="progress-text">Aula de quinta-feira 12/03</span>
            <div class="progress-bar">
              <div class="progress" style="width: 25%"></div>
            </div>
          </div>
        </div>
      </section>
      <section class="encontros-grid">
        <div class="encontro-card">
          <div class="card-header">
            <h2>Encontro 3</h2>
            <i class="fas fa-book-open"></i>
          </div>
          <div class="card-content">
            <a href="#" class="download-btn">
              <i class="fas fa-file-pdf"></i>
              Slides Te√≥ricos
              <span class="file-size">PDF - 2.4MB</span>
            </a>
            <a href="#" class="download-btn">
              <i class="fas fa-file-alt"></i>
              Material Pr√°tico
              <span class="file-size">PDF - 1.1MB</span>
            </a>
          </div>
          <div class="card-footer">
            <span class="progress-text">Alguma informa√ß√£o como semana, dia da aula e afins</span>
            <div class="progress-bar">
              <div class="progress" style="width: 25%"></div>
            </div>
          </div>
        </div>
      </section>
    <div class="pwa-install">
      <button id="addToHomeScreen" class="install-btn">
        <i class="fas fa-home"></i>
        Adicionar √† Tela Inicial
      </button>
    </div>
  </main>

<<<<<<< HEAD

  <h2>Criar Nova Atualiza√ß√£o</h2>
  <form id="create-update-form">
    <label>T√≠tulo:</label><br>
    <input type="text" id="update-title" required><br><br>
    <label>Descri√ß√£o:</label><br>
    <textarea id="update-description" required></textarea><br><br>
    <button type="submit">Criar</button>
  </form>

  <hr>

  <!-- Lista de atualiza√ß√µes existentes -->
  <h2>Atualiza√ß√µes Cadastradas</h2>
  <div id="updates-list"></div>
  <footer>
      
    <!-- <p>LABEM - Liga Acad√™mica de Est√©tica e Bem-Estar</p> -->
    <p>UNISUL - Universidade do Sul de Santa Catarina</p>
    <p>CIS UNISUL ‚Äì Florian√≥polis-SC.</p>
    <p>CIS PB Pedra ‚Äì Palho√ßa-SC.</p>
  </footer>
  <script>
    const token = localStorage.getItem('token');
    const baseUrl = 'https://labem-2.onrender.com'; // Ajuste para seu endpoint

    // Ao carregar, listar as atualiza√ß√µes
    window.addEventListener('load', fetchUpdates);

    // 1) LISTAR ATUALIZA√á√ïES
    async function fetchUpdates() {
      try {
        const res = await fetch(`${baseUrl}/updates`);
        const data = await res.json();
        if (data.success) {
          renderUpdates(data.updates);
        } else {
          console.error(data.error);
        }
      } catch (err) {
        console.error('Erro ao buscar updates:', err);
      }
    }

    // Renderiza na tela
    function renderUpdates(updates) {
      const container = document.getElementById('updates-list');
      container.innerHTML = '';

      updates.forEach((up) => {
        const div = document.createElement('div');
        div.innerHTML = `
          <h3>${up.title}</h3>
          <p>${up.description}</p>
          <p>Criado em: ${new Date(up.created_at).toLocaleString()}</p>
          <button onclick="editUpdate(${up.id}, '${up.title}', \`${up.description}\`)">Editar</button>
          <button onclick="deleteUpdate(${up.id})">Excluir</button>
          <hr>
        `;
        container.appendChild(div);
      });
    }

    // 2) CRIAR NOVA ATUALIZA√á√ÉO
    document.getElementById('create-update-form').addEventListener('submit', async (e) => {
      e.preventDefault();
      const title = document.getElementById('update-title').value;
      const description = document.getElementById('update-description').value;

      try {
        const res = await fetch(`${baseUrl}/updates`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${token}`
          },
          body: JSON.stringify({ title, description })
        });
        const data = await res.json();
        if (data.success) {
          alert('Criado com sucesso!');
          document.getElementById('update-title').value = '';
          document.getElementById('update-description').value = '';
          fetchUpdates();
        } else {
          alert(data.error || 'Erro ao criar');
        }
      } catch (err) {
        console.error('Erro:', err);
      }
    });

    // 3) EDITAR ATUALIZA√á√ÉO
    async function editUpdate(id, oldTitle, oldDescription) {
      // Exemplo simples com prompt (voc√™ pode criar um modal ou outro form)
      const newTitle = prompt('Novo t√≠tulo:', oldTitle);
      if (!newTitle) return;
      const newDesc = prompt('Nova descri√ß√£o:', oldDescription);
      if (!newDesc) return;

      try {
        const res = await fetch(`${baseUrl}/updates/${id}`, {
          method: 'PUT',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${token}`
          },
          body: JSON.stringify({ title: newTitle, description: newDesc })
        });
        const data = await res.json();
        if (data.success) {
          alert('Atualizado com sucesso!');
          fetchUpdates();
        } else {
          alert(data.error || 'Erro ao atualizar');
        }
      } catch (err) {
        console.error('Erro:', err);
      }
    }

    // 4) EXCLUIR ATUALIZA√á√ÉO
    async function deleteUpdate(id) {
      if (!confirm('Tem certeza que deseja excluir?')) return;
      try {
        const res = await fetch(`${baseUrl}/updates/${id}`, {
          method: 'DELETE',
          headers: {
            'Authorization': `Bearer ${token}`
          }
        });
        const data = await res.json();
        if (data.success) {
          alert('Exclu√≠do com sucesso!');
          fetchUpdates();
        } else {
          alert(data.error || 'Erro ao excluir');
        }
      } catch (err) {
        console.error('Erro:', err);
      }
    }
  </script>



=======
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-info">
        <p>UNISUL - Universidade do Sul de Santa Catarina</p>
        <p>CIS UNISUL ‚Äì Florian√≥polis-SC.</p>
        <p>CIS PB Pedra ‚Äì Palho√ßa-SC.</p>
      </div>
      <div class="footer-dev">
        <p>Desenvolvido por 
          <a href="https://github.com/mmyersbyte" target="_blank"><i class="fab fa-github"></i></a>
          <a href="https://www.instagram.com/pedrovicstro" target="_blank"><i class="fab fa-instagram"></i></a>
          <a href="https://portfolio-dev-six-pied.vercel.app/" target="_blank"><i class="fas fa-rocket"></i></a>
        </p>
      </div>
    </div>
  </footer>
  <!-- test -->
>>>>>>> novo-branch
  <script src="ligantes.js"></script>

</body>
</html>